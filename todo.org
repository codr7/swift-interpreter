* make types equatable
** replaces equals

* finish check macro
** port to part7
** check 4 + 1 2
** commit

* inc pc in stop op, part1-4
* add support for ref closures

function foo(x:Int):Function (
  function bar(y:Int):Int 
    x.+ y
  &bar
)
call foo 42 [3]

---

swift run -c release

function fib1(n:Int):Int 
  if n.< 2 n else (fib1 n.- 1).+ fib1 n.- 2 
benchmark 100 fib1 20

1.51012712

function fib2(n:Int a:Int b:Int):Int 
  if n.> 1 return fib2 n.- 1 b a.+ b else if n.= 0 a else b 
benchmark 10000 fib2 70 0 1

0.572912145

--

define foo + 1 2
evaluate + 1 2

--

function foo(x:Int):Int (
  function bar(y:Int):Int
    + x y
  bar 42
)
foo 3

--

function foo(x:Int):Function
  function(y:Int):Int 
    x.+ y

call foo 42 [3]
